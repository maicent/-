(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e201bd70"],{"17ff":function(t,e,n){"use strict";n("2da0")},"2da0":function(t,e,n){},"50fc":function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return d}));var a=n("b775");function i(t){return Object(a["a"])({url:"/admin/userList",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/admin/gachaList",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/admin/notice",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/admin/upNotice",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/admin/deNotice",method:"get",params:t})}function d(t){return Object(a["a"])({url:"/admin/console",method:"post",data:t})}},"67c1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("发布通知")])]),n("el-form",{ref:"dynamicValidateForm",attrs:{model:t.dynamicValidateForm,"label-width":"100px"}},[t._l(t.dynamicValidateForm.msg,(function(e,a){return n("el-form-item",{key:a,attrs:{label:"公告"+a,prop:"msg."+a+".notice",rules:{required:!0,message:"公告不能为空",trigger:"blur"}}},[n("div",{staticClass:"demo-dynamic"},[n("el-input",{attrs:{type:"textarea"},model:{value:e.notice,callback:function(n){t.$set(e,"notice",n)},expression:"msg.notice"}}),n("el-button",{on:{click:function(n){return n.preventDefault(),t.removeDomain(e)}}},[t._v("删除")])],1)])})),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("dynamicValidateForm")}}},[t._v("发布")]),n("el-button",{on:{click:t.addMsg}},[t._v("新增公告")])],1)],2)],1)],1)},i=[],c=(n("a434"),n("50fc")),r={data:function(){return{dynamicValidateForm:{msg:[{id:1,notice:"滚动公告1"},{id:2,notice:"滚动公告2"},{id:3,notice:"滚动公告3"}]}}},created:function(){this.notice_msg()},methods:{notice_msg:function(){var t=this;Object(c["d"])().then((function(e){t.dynamicValidateForm.msg=e.data.notice})).catch((function(){}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;Object(c["e"])(e.dynamicValidateForm).then((function(t){t.code?e.$message({message:t.data.msg,type:"success"}):e.$message.error("发布错误")})).catch((function(){}))}))},removeDomain:function(t){t.id&&Object(c["c"])({id:t.id}).then((function(t){})).catch((function(){}));var e=this.dynamicValidateForm.msg.indexOf(t);-1!==e&&this.dynamicValidateForm.msg.splice(e,1)},addMsg:function(){this.dynamicValidateForm.msg.push({id:"",notice:Date.now()})}}},o=r,s=(n("17ff"),n("2877")),d=Object(s["a"])(o,a,i,!1,null,"1a3ad116",null);e["default"]=d.exports}}]);